{"ast":null,"code":"import _slicedToArray from\"C:/Users/AntonAA/Desktop/mesto/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext}from\"react\";import PopupWithForm from'./PopupWithForm.js';import CurrentUserContext from'../contexts/CurrentUserContext.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function EditProfilePopup(props){var currentUser=useContext(CurrentUserContext);var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];function handleName(e){setName(e.target.value);}function handleDescription(e){setDescription(e.target.value);}React.useEffect(function(){if(props.isOpen===true){setName(currentUser.name);setDescription(currentUser.about);}},[props.isOpen,currentUser]);var handleSubmit=function handleSubmit(e){e.preventDefault();props.onUpdateUser({name:name,about:description});};return/*#__PURE__*/_jsxs(PopupWithForm,{title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",name:\"edit-form\",isOpen:props.isOpen,onClose:props.onClose,onSubmit:handleSubmit,isLoading:props.isLoading,buttonText:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"popup__input popup__input_type_name\",name:\"name\",placeholder:\"\\u0416\\u0430\\u043A-\\u0418\\u0432 \\u041A\\u0443\\u0441\\u0442\\u043E\",id:\"name-input\",required:true,minLength:\"2\",maxLength:\"40\",value:name?name:\"\",onChange:handleName}),/*#__PURE__*/_jsx(\"span\",{className:\"name-input-error popup__input-error\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"popup__input popup__input_type_about\",name:\"about\",placeholder:\"\\u0418\\u0441\\u0441\\u043B\\u0435\\u0434\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C \\u043E\\u043A\\u0435\\u0430\\u043D\\u0430\",id:\"about-input\",required:true,minLength:\"2\",maxLength:\"200\",value:description?description:\"\",onChange:handleDescription}),/*#__PURE__*/_jsx(\"span\",{className:\"about-input-error popup__input-error\"})]});}","map":{"version":3,"sources":["C:/Users/AntonAA/desktop/mesto/frontend/src/components/EditProfilePopup.js"],"names":["React","useState","useContext","PopupWithForm","CurrentUserContext","EditProfilePopup","props","currentUser","name","setName","description","setDescription","handleName","e","target","value","handleDescription","useEffect","isOpen","about","handleSubmit","preventDefault","onUpdateUser","onClose","isLoading"],"mappings":"0HAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,UAAzB,KAA0C,OAA1C,CACA,MAAOC,CAAAA,aAAP,KAA0B,oBAA1B,CACA,MAAOC,CAAAA,kBAAP,KAA+B,mCAA/B,C,wFAGA,cAAe,SAASC,CAAAA,gBAAT,CAA0BC,KAA1B,CAAgC,CAE3C,GAAMC,CAAAA,WAAW,CAAGL,UAAU,CAACE,kBAAD,CAA9B,CAEA,cAAwBH,QAAQ,CAAC,EAAD,CAAhC,wCAAOO,IAAP,eAAaC,OAAb,eACA,eAAsCR,QAAQ,CAAC,EAAD,CAA9C,yCAAOS,WAAP,eAAoBC,cAApB,eAGJ,QAASC,CAAAA,UAAT,CAAoBC,CAApB,CAAuB,CACnBJ,OAAO,CAACI,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP,CACD,CAED,QAASC,CAAAA,iBAAT,CAA2BH,CAA3B,CAA8B,CAC5BF,cAAc,CAACE,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,CACD,CAGDf,KAAK,CAACiB,SAAN,CAAgB,UAAM,CACpB,GAAIX,KAAK,CAACY,MAAN,GAAiB,IAArB,CAA2B,CACzBT,OAAO,CAACF,WAAW,CAACC,IAAb,CAAP,CACAG,cAAc,CAACJ,WAAW,CAACY,KAAb,CAAd,CACD,CACF,CALD,CAKG,CAACb,KAAK,CAACY,MAAP,CAAeX,WAAf,CALH,EAQA,GAAMa,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACP,CAAD,CAAO,CAC1BA,CAAC,CAACQ,cAAF,GAEAf,KAAK,CAACgB,YAAN,CAAmB,CACfd,IAAI,CAAJA,IADe,CAEfW,KAAK,CAAET,WAFQ,CAAnB,EAIH,CAPC,CAUE,mBACI,MAAC,aAAD,EACI,KAAK,CAAC,2HADV,CAEI,IAAI,CAAC,WAFT,CAGI,MAAM,CAAEJ,KAAK,CAACY,MAHlB,CAII,OAAO,CAAEZ,KAAK,CAACiB,OAJnB,CAKI,QAAQ,CAAEH,YALd,CAMI,SAAS,CAAEd,KAAK,CAACkB,SANrB,CAOI,UAAU,CAAC,wDAPf,wBASI,cAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,qCAA7B,CAAmE,IAAI,CAAC,MAAxE,CAA+E,WAAW,CAAC,gEAA3F,CAA0G,EAAE,CAAC,YAA7G,CAA0H,QAAQ,KAAlI,CAAmI,SAAS,CAAC,GAA7I,CAAiJ,SAAS,CAAC,IAA3J,CACD,KAAK,CAAEhB,IAAI,CAAGA,IAAH,CAAU,EADpB,CACwB,QAAQ,CAAEI,UADlC,EATJ,cAYI,aAAM,SAAS,CAAC,qCAAhB,EAZJ,cAcI,cAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,sCAA7B,CAAoE,IAAI,CAAC,OAAzE,CAAiF,WAAW,CAAC,qHAA7F,CAAoH,EAAE,CAAC,aAAvH,CAAqI,QAAQ,KAA7I,CAA8I,SAAS,CAAC,GAAxJ,CAA4J,SAAS,CAAC,KAAtK,CACA,KAAK,CAAEF,WAAW,CAAGA,WAAH,CAAiB,EADnC,CACuC,QAAQ,CAAEM,iBADjD,EAdJ,cAiBI,aAAM,SAAS,CAAC,sCAAhB,EAjBJ,GADJ,CAqBH","sourcesContent":["import React, {useState, useContext} from \"react\";\nimport PopupWithForm from './PopupWithForm.js'\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\n\n\nexport default function EditProfilePopup(props){\n\n    const currentUser = useContext(CurrentUserContext);\n\n    const [name, setName] = useState(\"\");\n    const [description, setDescription] = useState(\"\");\n\n\nfunction handleName(e) {\n    setName(e.target.value);\n  }\n\n  function handleDescription(e) {\n    setDescription(e.target.value);\n  }\n\n\n  React.useEffect(() => {\n    if (props.isOpen === true) {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n    }\n  }, [props.isOpen, currentUser]);\n\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    props.onUpdateUser({\n        name, \n        about: description\n    });\n};\n\n\n    return( \n        <PopupWithForm  \n            title=\"Редактировать профиль\" \n            name=\"edit-form\" \n            isOpen={props.isOpen}\n            onClose={props.onClose}\n            onSubmit={handleSubmit}\n            isLoading={props.isLoading}\n            buttonText=\"Сохранить\" >\n\n            <input type=\"text\" className=\"popup__input popup__input_type_name\" name=\"name\" placeholder=\"Жак-Ив Кусто\" id=\"name-input\" required minLength=\"2\" maxLength=\"40\" \n           value={name ? name : \"\"} onChange={handleName}\n             />\n            <span className=\"name-input-error popup__input-error\"></span>\n\n            <input type=\"text\" className=\"popup__input popup__input_type_about\" name=\"about\" placeholder=\"Исследователь океана\" id=\"about-input\" required minLength=\"2\" maxLength=\"200\" \n            value={description ? description : \"\"} onChange={handleDescription}\n            />\n            <span className=\"about-input-error popup__input-error\"></span>\n        </PopupWithForm>\n        )\n}\n"]},"metadata":{},"sourceType":"module"}