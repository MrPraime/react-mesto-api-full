{"version":3,"sources":["components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","images/header/headerLogo.svg","components/Header.js","components/ImagePopup.js","utils/Api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ProtectedRoute.js","components/InfoTooltip.js","utils/MestoAuth.js","components/PageWithLogin.js","components/Register.js","components/Login.js","components/App.js","reportWebVitals.js","index.js"],"names":["Footer","className","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","item","cardLikeButtonClassName","type","onClick","onCardDelete","src","link","alt","name","onCardClick","onCardLike","length","Main","useEffect","onPage","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","Header","linkName","linkRoute","islocationBasic","useLocation","pathname","to","logo","isLoggedIn","userEmail","signOut","ImagePopup","currentCardExist","Object","keys","onClose","api","url","headers","this","_url","_headers","res","ok","json","Promise","reject","status","jwt","fetch","method","Authorization","then","_checkResponse","body","JSON","stringify","id","avatarUrl","cardId","_setLike","_removeLike","PopupWithForm","isOpen","title","onSubmit","children","isLoading","buttonText","EditProfilePopup","useState","setName","description","setDescription","e","preventDefault","onUpdateUser","placeholder","required","minLength","maxLength","value","onChange","target","EditAvatarPopup","avatarInput","useRef","onUpdateAvatar","current","ref","AddPlacePopup","nameInput","linkInput","ProtectedRoute","Component","component","loggedIn","InfoToolTip","isRegistrationSuccsses","popupImageClassName","auth","baseUrl","password","email","PageWithLogin","textButton","isLocationSignUp","setPassword","setEmail","Register","Login","App","selectedCard","setSelectedCard","setCards","setCurrentUser","setUserEmail","navigate","useNavigate","setLinkName","setLinkRoute","setIsRegistrationSuccsses","setLoggedIn","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isRegistationResultPopupOpen","setIsRegistationResultPopupOpen","setIsLoading","localStorage","getItem","closeAllPopups","swapHeaderLinks","route","checkToken","data","catch","err","console","error","handleRegistration","isSuccsses","getInitialCards","cardsList","getUserInfo","Provider","removeItem","path","element","register","authorization","setItem","token","i","changeLikeCardStatus","newCard","state","c","deleteCard","filter","patchUserInfo","newUser","finally","postNewCard","patchNewAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d3349eea.chunk.js","sourcesContent":["function Footer() {\n    return(\n        <footer className=\"footer\">\n        <p className=\"footer__copyright\">&#169; 2021 Mesto Russia</p>\n    </footer>\n\n    )\n}\n\nexport default Footer;","import React from 'react';\n\nconst CurrentUserContext = React.createContext();\n\nexport default CurrentUserContext;","import React from \"react\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n    \n    const currentUser = React.useContext(CurrentUserContext);\n\n  \n    const isOwn = props.card.owner._id === currentUser._id;\n    const cardDeleteButtonClassName = (`element__delete-button ${isOwn ? 'element__delete-button_visible' : 'element__delete-button_hidden' }`);\n    const isLiked = props.card.likes.some(item => item._id === currentUser._id);\n    const cardLikeButtonClassName = (`element__like-button ${isLiked ? 'element__like-button_active' : 'element__like-button'}`);\n\n  \n\n    const handleClick = () => {\n        props.onCardClick(props.card);\n    };\n        \n    const handleLikeClick = () => {\n        props.onCardLike(props.card);\n    };\n\n    const handleDeleteClick = () => {\n        props.onCardDelete(props.card);\n    };\n\n    return (\n                  <div className=\"element\">\n                    <button className={cardDeleteButtonClassName} type=\"button\"  onClick={handleDeleteClick}></button>\n                    <img src={props.card.link} alt={props.card.name} onClick={handleClick} className=\"element__image\" />\n                    <div className=\"element__bar\">\n                      <h3 className=\"element__text\">{props.card.name}</h3>\n                      <div className=\"element__likes\">\n                        <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}></button>\n                        <h4 className=\"element__numberLikes\">{props.card.likes.length}</h4>\n                      </div>\n                    </div>\n                  </div>\n               );\n}\n\nexport default Card;","import React, {useContext} from 'react';\nimport Card from './Card.js';\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\n\nfunction Main(props) {\n\n\n  const currentUser = useContext(CurrentUserContext);\n  React.useEffect(() => {\n    props.onPage(\"Выйти\", \"/sign-in\");\n  }, []);\n\n  return (\n    <main className=\"main\">\n      <section className=\"profile\">\n        <button\n          className=\"profile__edit-button-avatar\"\n          type=\"button\"\n          onClick={props.onEditAvatar}\n        >\n          <img\n            src={currentUser.avatar}\n            alt=\"Фото аватара\"\n            className=\"profile__avatar\"\n          />\n        </button>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__title\">{currentUser.name}</h1>\n          <button\n            className=\"profile__edit-button\"\n            type=\"button\"\n            onClick={props.onEditProfile}\n          ></button>\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\n        </div>\n        <button\n          className=\"profile__add-button\"\n          type=\"button\"\n          onClick={props.onAddPlace}\n        ></button>\n      </section>\n\n\n\t  <section className=\"elements\">   { props.cards.map(item => (\n                    <Card\n                        onCardDelete = {props.onCardDelete}\n                        onCardLike = {props.onCardLike} \n                        onCardClick={props.onCardClick}\n                        key={item._id} \n                        card={item}\n                    />\n                ))\n                }\n\t  </section>\n    \n    </main>\n  );\n}\n\nexport default Main;\n","export default __webpack_public_path__ + \"static/media/headerLogo.03b78ada.svg\";","import logo from \"../images/header/headerLogo.svg\";\nimport { Link, useLocation } from \"react-router-dom\";\n\nfunction Header(props) {\n  const { linkName, linkRoute } = props;\n\n  function signOut() {\n    props.signOut();\n  }\n\n  const location = useLocation();\n  const islocationBasic = location.pathname === \"/\";\n\n  return (\n    <header className=\"header\">\n      <Link to={\"/\"}>\n        <img src={logo} alt=\"Логотип\" className=\"header__logo\" />\n      </Link>\n\n      <div className=\"header__container\">\n        <p className=\"header__email\">{props.isLoggedIn && props.userEmail}</p>\n        {!islocationBasic ? (\n          <Link to={linkRoute} className=\"header__link\">\n            {linkName}\n          </Link>\n        ) : (\n          <Link to={linkRoute} className=\"header__link\" onClick={signOut}>\n            {linkName}\n          </Link>\n        )}\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\n\nfunction ImagePopup(props) {\n\n    const currentCardExist = !(Object.keys(props.card).length === 0);\n\n    return (\n    <div className={`popup popup_modal ${currentCardExist && 'popup_is-opened'}`}>\n        <div className=\"popup__content popup__content_modal\">\n            <button className=\"popup__close-button popup__close-button_modal\" onClick={props.onClose}></button>\n            <img src={props.card.link} alt={props.card.name} className=\"popup__image\"/>\n            <h2 className=\"popup__text\">{props.card.name}</h2>\n        </div>\n    </div>\n    )\n}\n\n\nexport default ImagePopup;\n\n\n","export class Api {\n  constructor({ url, headers }) {\n    this._url = url;\n    this._headers = headers;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n  }\n  return Promise.reject(`Ошибка ${res.status}`);\n} \n\n  getUserInfo(jwt) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'GET',\n      headers: {\n        Authorization: `Bearer ${jwt}`,\n        'Content-Type': 'application/json'\n      }\n    })\n    .then(this._checkResponse)\n     \n  }\n\n  patchUserInfo(name, about, jwt) {\n    // loading(true); \n    return fetch(`${this._url}/users/me`, {\nmethod: 'PATCH',\n      headers: {\n        Authorization: `Bearer ${jwt}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: name,\n        about: about,\n      }),\n    })\n    .then(this._checkResponse)  \n  }\n\n  \n\n  getInitialCards(jwt) {\n    return fetch(`${this._url}/cards `, {\n       method: 'GET',\n      headers: {\n        Authorization: `Bearer ${jwt}`,\n        'Content-Type': 'application/json'\n      }\n    })\n    .then(this._checkResponse)\n\n  }\n\n  postNewCard(name, link, jwt) {\n    return fetch(`${this._url}/cards `, {\n       method: 'POST',\n      headers: {\n        Authorization: `Bearer ${jwt}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: name,\n        link: link,\n      }),\n    })\n    .then(this._checkResponse)\n\n  }\n\n  deleteCard(id, jwt) {\n    return fetch(`${this._url}/cards/${id}`, {\n      method: \"DELETE\",\n      headers: {\n        Authorization: `Bearer ${jwt}`,\n      }\n\n    })\n    .then(this._checkResponse)\n     \n  }\n\n  patchNewAvatar(avatarUrl, jwt) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: {\n        Authorization: `Bearer ${jwt}`,\n        'Content-Type': 'application/json'\n      },\n\n\n      body: JSON.stringify({\n        avatar: avatarUrl,\n      }),\n    })\n    .then(this._checkResponse)     \n  }\n\n\n  changeLikeCardStatus(cardId, status, jwt) {\n    return status ? this._setLike(cardId, jwt) : this._removeLike(cardId, jwt);\n}\n\n_setLike(id, jwt) {\n  return fetch(`${this._url}/cards/likes/${id}`, {\n      method: \"PUT\",\n       headers: {\n        Authorization: `Bearer ${jwt}`,\n}\n})\n  .then(this._checkResponse);\n}\n\n_removeLike(id, jwt) {\n  return fetch(`${this._url}/cards/likes/${id}`, {\n   method: 'DELETE',\n       headers: {\n        Authorization: `Bearer ${jwt}`,\n}\n  })\n  .then(this._checkResponse);\n}\n\n\n}\n\nexport  const api = new Api({\n  url: \"https://api.praime.nomoredomains.work\",\n});\n\n// export default api;\n","import React from 'react';\n\nexport default function PopupWithForm(props) {\n    return ( \n    <div className={`popup popup_${props.name} ${props.isOpen ? 'popup_is-opened' : null}`}>\n        <div className=\"popup__content  popup__content_type_reg\">\t\n            <button className=\"popup__close-button\" onClick={props.onClose} type='button'></button>\n            <h2 className=\"popup__title\">{props.title}</h2>\n            <form className={`popup__form popup__form${props.name}`} name={`${props.name}`} onSubmit={props.onSubmit}>\n                <fieldset className=\"popup__form-set\">\n                <div>{props.children}</div>\n                    <button className=\"popup__save-button\" >{props.isLoading ? `${props.buttonText}...` : `${props.buttonText}`} </button>\n                </fieldset>\n            </form>\n        </div>\n    </div>\n    )\n}\n\n","import React, {useState, useContext} from \"react\";\nimport PopupWithForm from './PopupWithForm.js'\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\n\n\nexport default function EditProfilePopup(props){\n\n    const currentUser = useContext(CurrentUserContext);\n\n    const [name, setName] = useState(\"\");\n    const [description, setDescription] = useState(\"\");\n\n\nfunction handleName(e) {\n    setName(e.target.value);\n  }\n\n  function handleDescription(e) {\n    setDescription(e.target.value);\n  }\n\n\n  React.useEffect(() => {\n    if (props.isOpen === true) {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n    }\n  }, [props.isOpen, currentUser]);\n\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    props.onUpdateUser({\n        name, \n        about: description\n    });\n};\n\n\n    return( \n        <PopupWithForm  \n            title=\"Редактировать профиль\" \n            name=\"edit-form\" \n            isOpen={props.isOpen}\n            onClose={props.onClose}\n            onSubmit={handleSubmit}\n            isLoading={props.isLoading}\n            buttonText=\"Сохранить\" >\n\n            <input type=\"text\" className=\"popup__input popup__input_type_name\" name=\"name\" placeholder=\"Жак-Ив Кусто\" id=\"name-input\" required minLength=\"2\" maxLength=\"40\" \n           value={name ? name : \"\"} onChange={handleName}\n             />\n            <span className=\"name-input-error popup__input-error\"></span>\n\n            <input type=\"text\" className=\"popup__input popup__input_type_about\" name=\"about\" placeholder=\"Исследователь океана\" id=\"about-input\" required minLength=\"2\" maxLength=\"200\" \n            value={description ? description : \"\"} onChange={handleDescription}\n            />\n            <span className=\"about-input-error popup__input-error\"></span>\n        </PopupWithForm>\n        )\n}\n","import React,  { useRef } from \"react\";\nimport PopupWithForm from './PopupWithForm.js'\n\nexport default function EditAvatarPopup(props){\n\n    const avatarInput = useRef();\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n      \n        props.onUpdateAvatar(avatarInput.current.value);\n\n        avatarInput.current.value = \"\";\n\n      } \n\n    return( \n            <PopupWithForm  \n                title=\"Обновить аватар\" \n                name=\"edit-avatar\" \n                isOpen={props.isOpen}\n                onClose={props.onClose}\n                onSubmit={handleSubmit}\n                isLoading={props.isLoading}\n                buttonText=\"Сохранить\" >\n                        <input type=\"url\" className=\"popup__input popup__input_type_url\" name=\"newAvatarUrl\" id=\"url-input-avatar\" required placeholder=\"Ссылка на аватар\"\n                        ref={avatarInput}/>\n                        <span className=\"url-input-avatar-error popup__input-error\"></span>\n                \n          </PopupWithForm>\n        )\n}","import React, {useRef} from \"react\";\nimport PopupWithForm from './PopupWithForm.js'\n\nexport default function AddPlacePopup(props){\n\n    const nameInput = useRef();\n    const linkInput = useRef();\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        props.onAddPlace({\n            name : nameInput.current.value,\n            link: linkInput.current.value\n        });\n        \n    };\n\n    React.useEffect(() => {\n        nameInput.current.value = \"\";\n        linkInput.current.value = \"\";\n    }, [props.isOpen]);\n\n    return(\n        <PopupWithForm  \n        title=\"Новое место\" \n            name=\"-item-form\" \n            isOpen={props.isOpen}\n            onClose={props.onClose}\n            onSubmit={handleSubmit}\n            isLoading={props.isLoading}\n            buttonText=\"Создать\" >\n\n                    <input type=\"text\" className=\"popup__input popup__input_type_title\" name=\"title\" required  minLength=\"2\" maxLength=\"30\" id=\"text-input\" placeholder=\"Название\"\n                    ref={nameInput} />\n                    <span className=\"text-input-error popup__input-error\"></span>\n\n                    <input type=\"url\" className=\"popup__input popup__input_type_url\" name=\"imageUrl\" id=\"url-input\" required placeholder=\"Ссылка на картинку\"\n                    ref={linkInput} />\n                    <span className=\"url-input-error popup__input-error\"></span>\n      \n        </PopupWithForm>\n    )\n\n}\n\n\n\n\n\n\n","import React from \"react\";\nimport { Navigate } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n    return (\n      props.loggedIn ? <Component {...props} /> : <Navigate to=\"/sign-in\" />\n    );\n  };\n  \n  export default ProtectedRoute;","import React from \"react\";\n\nfunction InfoToolTip(props) {\n  const { isRegistrationSuccsses } = props;\n\n  const popupImageClassName = isRegistrationSuccsses\n      ? \"popup__image_type_success\"\n      : \"popup__image_type_fail\";\n      \n\n  return (\n    <div\n      className={`popup popup_type_${props.name} ${props.isOpen && \"popup_is-opened\"}`}\n    >\n      <div className=\"popup__container popup__content_reg\">\n      <button className=\"popup__close-button\" onClick={props.onClose}></button>\n        <div className={popupImageClassName}></div>\n        <p className=\"popup__title popup__title_info-tool-tip\">\n          {isRegistrationSuccsses\n            ? \"Вы успешно зарегистрировались!\"\n            : \"Что-то пошло не так! Попробуйте ещё раз.\"}\n        </p>\n      </div>\n    </div>\n  );\n}\n\nexport default InfoToolTip;\n","\n class Auth {\n    constructor( {baseUrl} ) {\n      this._url = baseUrl;\n    }\n\n    _checkResponse(res) {\n        if (res.ok) {\n          return res.json();\n      }\n      return Promise.reject(`Ошибка ${res.status}`);\n    } \n\n        register(password, email) {\n        return fetch(`${this._url}/signup`, {\n            method: 'POST',\n            headers: {\n            \"Content-Type\": \"application/json\" \n            },\n            body: JSON.stringify({\n            password: password,\n            email: email\n            })\n        })\n      .then(this._checkResponse)\n    };\n\n\n    authorization(password, email) {\n        return fetch(`${this._url}/signin`, {\n          method: 'POST',\n          headers: {\n            \"Content-Type\": \"application/json\" \n          },\n          body: JSON.stringify({\n            password: password,\n            email: email\n          })\n        })\n        .then(this._checkResponse)\n      };\n\n\n      \n      checkToken(jwt) {\n        return fetch(`${this._url}/users/me`, {\n          method: 'GET',\n          headers: {\n             'Accept': 'application/json',\n            \"Content-Type\": \"application/json\",\n            \"Authorization\" : `Bearer ${jwt}`\n          }\n        })\n        .then(this._checkResponse)\n      };\n\n\n\n}\n\n\nconst authConfigg = {\n  baseUrl: 'https://api.praime.nomoredomains.work',\n}\n\nconst auth = new Auth(authConfigg);\n\nexport default auth;\n","import React from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\n\n\nfunction PageWithLogin(props){\n    const { title, textButton } = props;\n\n\n    const location = useLocation();\n    const isLocationSignUp = location.pathname === \"/sign-up\";\n    const [password, setPassword] = React.useState(\"\");\n    const [email, setEmail] = React.useState(\"\");\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onSubmit(password, email);\n  }\n\n  function handleChangePassword(e) {\n    setPassword(e.target.value);\n  }\n\n  function handleChangeEmail(e) {\n    setEmail(e.target.value);\n  }\n\n\n    return(\n        <div className=\"popup__content  popup__content_auth-page\">\n            <h2 className=\"popup__title popup__title_auth-page \">{title}</h2>\n                <form className={`popup__form`} onSubmit={handleSubmit}>\n\n                    <input type=\"email\" className=\"popup__input popup__input_type_email \" name=\"email\"\n          required\n          placeholder=\"Email\"\n          value={email || \"\"}\n          onChange={handleChangeEmail}\n                    />\n                    <span className=\"email-input-error popup__input-error\"></span>\n\n                    <input type=\"password\" className=\"popup__input popup__input_type_password\" \n          name=\"password\"\n          required\n          minLength=\"2\"\n          maxLength=\"200\"\n          placeholder=\"Пароль\"\n          value={password || \"\"}\n          onChange={handleChangePassword} />\n\n                    <span className=\"password-input-error popup__input-error\"></span>\n\n                    <button className=\"popup__save-button popup__save-button_auth-page\" type=\"submit\">{textButton}</button>\n                </form>\n\n                {props.children}\n                \n                \n            {isLocationSignUp && (\n                <div className=\"popup__content_signin\">\n                    <p className=\"popup__content_text_signin\">Уже зарегистрированы? </p>\n                    <Link to={\"/sign-in\"} className=\"popup__content_login-link\">Войти</Link>\n                </div>\n              )\n            }\n            \n                </div>\n    )\n}\n\nexport default PageWithLogin;","import React from \"react\";\nimport PageWithLogin from \"./PageWithLogin\";\n\n\n\nfunction Register(props) {\n\n  React.useEffect(() => {\n    props.onPage(\"Войти\", \"/sign-in\");\n  }, []);\n\n    return ( \n        <PageWithLogin\n          title=\"Регистрация\"\n          textButton=\"Зарегистрироваться\"\n          onSubmit={props.onSubmit}\n      />\n\n    )\n}\n\nexport default Register;","import React from \"react\";\n\nimport PageWithLogin from \"./PageWithLogin\";\n\nfunction Login(props) {\n  \n    React.useEffect(() => {\n        props.onPage(\"Регистрация\", \"/sign-up\");\n      }, []);\n\n        return ( \n            <PageWithLogin\n            title=\"Вход\"\n            textButton=\"Войти\"\n            onSubmit={props.onSubmit}\n            />\n\n        )\n}\n\nexport default Login;","import React, { useState, useEffect } from \"react\";\nimport { Route, Routes, useNavigate } from \"react-router-dom\";\nimport Footer from \"./Footer.js\";\nimport Main from \"./Main.js\";\nimport Header from \"./Header.js\";\n// import PopupWithForm from \"./PopupWithForm.js\";\nimport ImagePopup from \"./ImagePopup.js\";\nimport { api } from \"../utils/Api.js\";\nimport EditProfilePopup from \"./EditProfilePopup.js\";\nimport EditAvatarPopup from \"./EditAvatarPopup.js\";\nimport AddPlacePopup from \"./AddPlacePopup.js\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext.js\";\nimport InfoToolTip from \"./InfoTooltip.js\";\nimport auth from \"../utils/MestoAuth.js\";\nimport Register from \"./Register.js\";\nimport Login from \"./Login.js\";\n\nfunction App() {\n  const [selectedCard, setSelectedCard] = useState({});\n  const [cards, setCards] = useState([]);\n  const [currentUser, setCurrentUser] = useState({});\n  const [userEmail, setUserEmail] = React.useState(\"\");\n  const navigate = useNavigate();\n  const [linkName, setLinkName] = React.useState(\"\");\n  const [linkRoute, setLinkRoute] = React.useState(\"\");\n  const [isRegistrationSuccsses, setIsRegistrationSuccsses] = React.useState(false);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isRegistationResultPopupOpen, setIsRegistationResultPopupOpen] = React.useState(false);\n  const [isLoading, setIsLoading] = React.useState(false);\n\n  const jwt = localStorage.getItem('jwt'); \n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n  };\n\n\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsRegistationResultPopupOpen(false);\n    setSelectedCard({});\n  }\n\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n    api\n      .changeLikeCardStatus(card._id, !isLiked, jwt)\n      .then((newCard) => {\n        setCards((state) =>\n          state.map((c) => (c._id === card._id ? newCard : c))\n        );\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  }\n\n  function handleDeleteClick(card) {\n    api\n      .deleteCard(card._id, jwt)\n      .then(() => {\n        setCards(cards.filter((i) => i._id !== card._id));\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  }\n\n  const handleUpdateUser = ({ name, about }) => {\n    setIsLoading(true);\n    api\n      .patchUserInfo(name, about, jwt)\n      .then((newUser) => {\n        setCurrentUser(newUser);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.error(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  };\n\n  const handleUpdateAvatar = (data) => {\n    setIsLoading(true);\n    api\n      .patchNewAvatar(data, jwt)\n      .then((newUser) => {\n        setCurrentUser(newUser);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.error(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  };\n\n\n  const handleAddPlaceSubmit = ({ name, link }) => {\n    setIsLoading(true);\n    api.postNewCard(name, link, jwt)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.error(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  };\n\n\n\n  function swapHeaderLinks(name, route) {\n    setLinkName(name);\n    setLinkRoute(route);\n  }\n\n  function handleSetUserEmail(email) {\n    setUserEmail(email);\n  }\n\n  /** Проверяет наличие токена */\n  function checkToken() {\n const jwt = localStorage.getItem(\"jwt\");\n    if (jwt) {\n      auth\n        .checkToken(jwt)\n        .then((data) => {\n          setLoggedIn(true);\n          handleSetUserEmail(data.data.email);\n          navigate(\"/\");\n        })\n        .catch((err) => {\n          console.error(err);\n        });\n    }\n  }\n\n  React.useEffect(() => {\n    checkToken();\n  }, []);\n\n  function handleSignOutClick() {\n    navigate(\"/sign-in\");\n    localStorage.removeItem(\"jwt\");\n    setLoggedIn(false);\n  }\n\n  function handleRegistration(isSuccsses) {\n    setIsRegistrationSuccsses(isSuccsses);\n    setIsRegistationResultPopupOpen(true);\n  }\n\n  /** регистрация пользователя */\n  function handleUserRegister(password, email) {\n    auth\n      .register(password, email)\n      .then((data) => {\n        navigate(\"/sign-in\");\n        handleRegistration(true);\n      })\n      .catch((err) => {\n        console.error(err);\n        handleRegistration(false);\n      });\n  }\n\n  /** авторизация пользователя */\n  function handleUserAuthorization(password, email) {\n    auth\n      .authorization(password, email)\n      .then((data) => {\n        setLoggedIn(true);\n        setUserEmail(email);\n        navigate(\"/\");\n        localStorage.setItem(\"jwt\", data.token);\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  }\n\n\nReact.useEffect(() => { \nif(loggedIn) {\n   api\n     .getInitialCards(jwt)\n     .then((cardsList) => {\n       setCards(cardsList);\n     })\n     .catch((err) => {\n       console.error(err);\n     });\n   }\n }, [loggedIn, jwt]);\n\nReact.useEffect(() => {\n    if(loggedIn) {\n   api\n     .getUserInfo(jwt)\n     .then((data) => {\n       setCurrentUser(data);\n     })\n     .catch((err) => {\n       console.error(err);\n     });\n  }\n }, [loggedIn, jwt]);\n\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header\n          linkName={linkName}\n          linkRoute={linkRoute}\n          signOut={handleSignOutClick}\n          isLoggedIn={loggedIn}\n          userEmail={userEmail}\n        />\n        <Routes>\n          <Route\n            path=\"/sign-up\"\n            element={<Register onPage={swapHeaderLinks} onSubmit={handleUserRegister} />}\n          />\n          <Route\n            path=\"/sign-in\"\n            element={\n              <Login\n                onPage={swapHeaderLinks}\n                onSubmit={handleUserAuthorization}\n                setUserEmail={setUserEmail}\n              />\n            }\n          />\n          <Route\n            path=\"/\"\n            element={\n              <ProtectedRoute\n                loggedIn={loggedIn}\n                component={Main}\n                onEditProfile={handleEditProfileClick}\n                onAddPlace={handleAddPlaceClick}\n                onEditAvatar={handleEditAvatarClick}\n                onCardClick={handleCardClick} \n                cards={cards}\n                onCardLike={handleCardLike}\n                onCardDelete={handleDeleteClick}\n                onPage={swapHeaderLinks}\n                isLoading={isLoading}\n              />\n            }\n          />\n        </Routes>\n        <Footer />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onUpdateUser={handleUpdateUser}\n          onClose={closeAllPopups}\n          isLoading={isLoading}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onAddPlace={handleAddPlaceSubmit}\n          onClose={closeAllPopups}\n          isLoading={isLoading}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          isLoading={isLoading}\n        />\n   \n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n\n        <InfoToolTip\n          isOpen={isRegistationResultPopupOpen}\n          name=\"info-tool-tip\"\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleRegistration}\n          isRegistrationSuccsses={isRegistrationSuccsses}\n        />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nimport { BrowserRouter } from 'react-router-dom';\n\nimport reportWebVitals from './reportWebVitals';   \n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\nreportWebVitals();\n\n\n"],"sourceRoot":""}