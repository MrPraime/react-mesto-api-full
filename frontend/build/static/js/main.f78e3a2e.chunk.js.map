{"version":3,"sources":["components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","images/header/headerLogo.svg","components/Header.js","components/ImagePopup.js","utils/Api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ProtectedRoute.js","components/InfoTooltip.js","utils/MestoAuth.js","components/PageWithLogin.js","components/Register.js","components/Login.js","components/App.js","reportWebVitals.js","index.js"],"names":["Footer","className","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","item","cardLikeButtonClassName","type","onClick","onCardDelete","src","link","alt","name","onCardClick","onCardLike","length","Main","useEffect","onPage","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","Header","linkName","linkRoute","islocationBasic","useLocation","pathname","to","logo","isLoggedIn","userEmail","signOut","ImagePopup","currentCardExist","Object","keys","onClose","api","url","this","_url","res","ok","json","Promise","reject","status","jwt","fetch","method","headers","Authorization","then","_checkResponse","body","JSON","stringify","id","avatarUrl","cardId","_setLike","_removeLike","PopupWithForm","isOpen","title","onSubmit","children","isLoading","buttonText","EditProfilePopup","useState","setName","description","setDescription","e","preventDefault","onUpdateUser","placeholder","required","minLength","maxLength","value","onChange","target","EditAvatarPopup","avatarInput","useRef","onUpdateAvatar","current","ref","AddPlacePopup","nameInput","linkInput","ProtectedRoute","Component","component","loggedIn","InfoToolTip","isRegistrationSuccsses","popupImageClassName","auth","baseUrl","password","email","PageWithLogin","textButton","isLocationSignUp","setPassword","setEmail","Register","Login","App","selectedCard","setSelectedCard","setCards","setCurrentUser","setUserEmail","navigate","useNavigate","setLinkName","setLinkRoute","setIsRegistrationSuccsses","setLoggedIn","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isRegistationResultPopupOpen","setIsRegistationResultPopupOpen","setIsLoading","localStorage","getItem","closeAllPopups","swapHeaderLinks","route","checkToken","data","catch","err","console","error","handleRegistration","isSuccsses","getInitialCards","cardsList","getUserInfo","Provider","removeItem","path","element","register","authorization","setItem","token","i","changeLikeCardStatus","newCard","state","c","deleteCard","filter","patchUserInfo","newUser","finally","postNewCard","patchNewAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f78e3a2e.chunk.js","sourcesContent":["function Footer() {\n    return(\n        <footer className=\"footer\">\n        <p className=\"footer__copyright\">&#169; 2021 Mesto Russia</p>\n    </footer>\n\n    )\n}\n\nexport default Footer;","import React from 'react';\n\nconst CurrentUserContext = React.createContext();\n\nexport default CurrentUserContext;","import React from \"react\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n    \n    const currentUser = React.useContext(CurrentUserContext);\n\n  \n    const isOwn = props.card.owner._id === currentUser._id;\n    const cardDeleteButtonClassName = (`element__delete-button ${isOwn ? 'element__delete-button_visible' : 'element__delete-button_hidden' }`);\n    const isLiked = props.card.likes.some(item => item._id === currentUser._id);\n    const cardLikeButtonClassName = (`element__like-button ${isLiked ? 'element__like-button_active' : 'element__like-button'}`);\n\n  \n\n    const handleClick = () => {\n        props.onCardClick(props.card);\n    };\n        \n    const handleLikeClick = () => {\n        props.onCardLike(props.card);\n    };\n\n    const handleDeleteClick = () => {\n        props.onCardDelete(props.card);\n    };\n\n    return (\n                  <div className=\"element\">\n                    <button className={cardDeleteButtonClassName} type=\"button\"  onClick={handleDeleteClick}></button>\n                    <img src={props.card.link} alt={props.card.name} onClick={handleClick} className=\"element__image\" />\n                    <div className=\"element__bar\">\n                      <h3 className=\"element__text\">{props.card.name}</h3>\n                      <div className=\"element__likes\">\n                        <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}></button>\n                        <h4 className=\"element__numberLikes\">{props.card.likes.length}</h4>\n                      </div>\n                    </div>\n                  </div>\n               );\n}\n\nexport default Card;","import React, {useContext} from 'react';\nimport Card from './Card.js';\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\n\nfunction Main(props) {\n\n\n  const currentUser = useContext(CurrentUserContext);\n  React.useEffect(() => {\n    props.onPage(\"Выйти\", \"/sign-in\");\n  }, []);\n\n  return (\n    <main className=\"main\">\n      <section className=\"profile\">\n        <button\n          className=\"profile__edit-button-avatar\"\n          type=\"button\"\n          onClick={props.onEditAvatar}\n        >\n          <img\n            src={currentUser.avatar}\n            alt=\"Фото аватара\"\n            className=\"profile__avatar\"\n          />\n        </button>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__title\">{currentUser.name}</h1>\n          <button\n            className=\"profile__edit-button\"\n            type=\"button\"\n            onClick={props.onEditProfile}\n          ></button>\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\n        </div>\n        <button\n          className=\"profile__add-button\"\n          type=\"button\"\n          onClick={props.onAddPlace}\n        ></button>\n      </section>\n\n\n\t  <section className=\"elements\">   { props.cards.map(item => (\n                    <Card\n                        onCardDelete = {props.onCardDelete}\n                        onCardLike = {props.onCardLike} \n                        onCardClick={props.onCardClick}\n                        key={item._id} \n                        card={item}\n                    />\n                ))\n                }\n\t  </section>\n    \n    </main>\n  );\n}\n\nexport default Main;\n","export default __webpack_public_path__ + \"static/media/headerLogo.03b78ada.svg\";","import logo from \"../images/header/headerLogo.svg\";\nimport { Link, useLocation } from \"react-router-dom\";\n\nfunction Header(props) {\n  const { linkName, linkRoute } = props;\n\n  function signOut() {\n    props.signOut();\n  }\n\n  const location = useLocation();\n  const islocationBasic = location.pathname === \"/\";\n\n  return (\n    <header className=\"header\">\n      <Link to={\"/\"}>\n        <img src={logo} alt=\"Логотип\" className=\"header__logo\" />\n      </Link>\n\n      <div className=\"header__container\">\n        <p className=\"header__email\">{props.isLoggedIn && props.userEmail}</p>\n        {!islocationBasic ? (\n          <Link to={linkRoute} className=\"header__link\">\n            {linkName}\n          </Link>\n        ) : (\n          <Link to={linkRoute} className=\"header__link\" onClick={signOut}>\n            {linkName}\n          </Link>\n        )}\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\n\nfunction ImagePopup(props) {\n\n    const currentCardExist = !(Object.keys(props.card).length === 0);\n\n    return (\n    <div className={`popup popup_modal ${currentCardExist && 'popup_is-opened'}`}>\n        <div className=\"popup__content popup__content_modal\">\n            <button className=\"popup__close-button popup__close-button_modal\" onClick={props.onClose}></button>\n            <img src={props.card.link} alt={props.card.name} className=\"popup__image\"/>\n            <h2 className=\"popup__text\">{props.card.name}</h2>\n        </div>\n    </div>\n    )\n}\n\n\nexport default ImagePopup;\n\n\n","export class Api {\n  constructor({ url }) {\n    this._url = url;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка ${res.status}`);\n  }\n\n  getUserInfo(jwt) {\n    return fetch(`${this._url}/users/me`, {\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${jwt}`,\n        \"Content-Type\": \"application/json\",\n      },\n    }).then(this._checkResponse);\n  }\n\n  patchUserInfo(name, about, jwt) {\n    return fetch(`${this._url}/users/me`, {\n      method: \"PATCH\",\n      headers: {\n        Authorization: `Bearer ${jwt}`,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: name,\n        about: about,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  getInitialCards(jwt) {\n    return fetch(`${this._url}/cards `, {\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${jwt}`,\n        \"Content-Type\": \"application/json\",\n      },\n    }).then(this._checkResponse);\n  }\n\n  postNewCard(name, link, jwt) {\n    return fetch(`${this._url}/cards`, {\n      method: \"POST\",\n      headers: {\n        Authorization: `Bearer ${jwt}`,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: name,\n        link: link,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  deleteCard(id, jwt) {\n    return fetch(`${this._url}/cards/${id}`, {\n      method: \"DELETE\",\n      headers: {\n        Authorization: `Bearer ${jwt}`,\n      },\n    }).then(this._checkResponse);\n  }\n\n  patchNewAvatar(avatarUrl, jwt) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: {\n        Authorization: `Bearer ${jwt}`,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        avatar: avatarUrl,\n      }),\n    }).then(this._checkResponse);\n  }\n\n  changeLikeCardStatus(cardId, status, jwt) {\n    return status ? this._setLike(cardId, jwt) : this._removeLike(cardId, jwt);\n  }\n\n  _setLike(id, jwt) {\n    return fetch(`${this._url}/cards/likes/${id}`, {\n      method: \"PUT\",\n      headers: {\n        Authorization: `Bearer ${jwt}`,\n      },\n    }).then(this._checkResponse);\n  }\n\n  _removeLike(id, jwt) {\n    return fetch(`${this._url}/cards/likes/${id}`, {\n      method: \"DELETE\",\n      headers: {\n        Authorization: `Bearer ${jwt}`,\n      },\n    }).then(this._checkResponse);\n  }\n}\n\nexport const api = new Api({\n  url: \"https://api.praime.nomoredomains.work\",\n});\n","import React from 'react';\n\nexport default function PopupWithForm(props) {\n    return ( \n    <div className={`popup popup_${props.name} ${props.isOpen ? 'popup_is-opened' : null}`}>\n        <div className=\"popup__content  popup__content_type_reg\">\t\n            <button className=\"popup__close-button\" onClick={props.onClose} type='button'></button>\n            <h2 className=\"popup__title\">{props.title}</h2>\n            <form className={`popup__form popup__form${props.name}`} name={`${props.name}`} onSubmit={props.onSubmit}>\n                <fieldset className=\"popup__form-set\">\n                <div>{props.children}</div>\n                    <button className=\"popup__save-button\" >{props.isLoading ? `${props.buttonText}...` : `${props.buttonText}`} </button>\n                </fieldset>\n            </form>\n        </div>\n    </div>\n    )\n}\n\n","import React, {useState, useContext} from \"react\";\nimport PopupWithForm from './PopupWithForm.js'\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\n\n\nexport default function EditProfilePopup(props){\n\n    const currentUser = useContext(CurrentUserContext);\n\n    const [name, setName] = useState(\"\");\n    const [description, setDescription] = useState(\"\");\n\n\nfunction handleName(e) {\n    setName(e.target.value);\n  }\n\n  function handleDescription(e) {\n    setDescription(e.target.value);\n  }\n\n\n  React.useEffect(() => {\n    if (props.isOpen === true) {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n    }\n  }, [props.isOpen, currentUser]);\n\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    props.onUpdateUser({\n        name, \n        about: description\n    });\n};\n\n\n    return( \n        <PopupWithForm  \n            title=\"Редактировать профиль\" \n            name=\"edit-form\" \n            isOpen={props.isOpen}\n            onClose={props.onClose}\n            onSubmit={handleSubmit}\n            isLoading={props.isLoading}\n            buttonText=\"Сохранить\" >\n\n            <input type=\"text\" className=\"popup__input popup__input_type_name\" name=\"name\" placeholder=\"Жак-Ив Кусто\" id=\"name-input\" required minLength=\"2\" maxLength=\"40\" \n           value={name ? name : \"\"} onChange={handleName}\n             />\n            <span className=\"name-input-error popup__input-error\"></span>\n\n            <input type=\"text\" className=\"popup__input popup__input_type_about\" name=\"about\" placeholder=\"Исследователь океана\" id=\"about-input\" required minLength=\"2\" maxLength=\"200\" \n            value={description ? description : \"\"} onChange={handleDescription}\n            />\n            <span className=\"about-input-error popup__input-error\"></span>\n        </PopupWithForm>\n        )\n}\n","import React,  { useRef } from \"react\";\nimport PopupWithForm from './PopupWithForm.js'\n\nexport default function EditAvatarPopup(props){\n\n    const avatarInput = useRef();\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n      \n        props.onUpdateAvatar(avatarInput.current.value);\n\n        avatarInput.current.value = \"\";\n\n      } \n\n    return( \n            <PopupWithForm  \n                title=\"Обновить аватар\" \n                name=\"edit-avatar\" \n                isOpen={props.isOpen}\n                onClose={props.onClose}\n                onSubmit={handleSubmit}\n                isLoading={props.isLoading}\n                buttonText=\"Сохранить\" >\n                        <input type=\"url\" className=\"popup__input popup__input_type_url\" name=\"newAvatarUrl\" id=\"url-input-avatar\" required placeholder=\"Ссылка на аватар\"\n                        ref={avatarInput}/>\n                        <span className=\"url-input-avatar-error popup__input-error\"></span>\n                \n          </PopupWithForm>\n        )\n}","import React, {useRef} from \"react\";\nimport PopupWithForm from './PopupWithForm.js'\n\nexport default function AddPlacePopup(props){\n\n    const nameInput = useRef();\n    const linkInput = useRef();\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        props.onAddPlace({\n            name : nameInput.current.value,\n            link: linkInput.current.value\n        });\n        \n    };\n\n    React.useEffect(() => {\n        nameInput.current.value = \"\";\n        linkInput.current.value = \"\";\n    }, [props.isOpen]);\n\n    return(\n        <PopupWithForm  \n        title=\"Новое место\" \n            name=\"-item-form\" \n            isOpen={props.isOpen}\n            onClose={props.onClose}\n            onSubmit={handleSubmit}\n            isLoading={props.isLoading}\n            buttonText=\"Создать\" >\n\n                    <input type=\"text\" className=\"popup__input popup__input_type_title\" name=\"title\" required  minLength=\"2\" maxLength=\"30\" id=\"text-input\" placeholder=\"Название\"\n                    ref={nameInput} />\n                    <span className=\"text-input-error popup__input-error\"></span>\n\n                    <input type=\"url\" className=\"popup__input popup__input_type_url\" name=\"imageUrl\" id=\"url-input\" required placeholder=\"Ссылка на картинку\"\n                    ref={linkInput} />\n                    <span className=\"url-input-error popup__input-error\"></span>\n      \n        </PopupWithForm>\n    )\n\n}\n\n\n\n\n\n\n","import React from \"react\";\nimport { Navigate } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n    return (\n      props.loggedIn ? <Component {...props} /> : <Navigate to=\"/sign-in\" />\n    );\n  };\n  \n  export default ProtectedRoute;","import React from \"react\";\n\nfunction InfoToolTip(props) {\n  const { isRegistrationSuccsses } = props;\n\n  const popupImageClassName = isRegistrationSuccsses\n      ? \"popup__image_type_success\"\n      : \"popup__image_type_fail\";\n      \n\n  return (\n    <div\n      className={`popup popup_type_${props.name} ${props.isOpen && \"popup_is-opened\"}`}\n    >\n      <div className=\"popup__container popup__content_reg\">\n      <button className=\"popup__close-button\" onClick={props.onClose}></button>\n        <div className={popupImageClassName}></div>\n        <p className=\"popup__title popup__title_info-tool-tip\">\n          {isRegistrationSuccsses\n            ? \"Вы успешно зарегистрировались!\"\n            : \"Что-то пошло не так! Попробуйте ещё раз.\"}\n        </p>\n      </div>\n    </div>\n  );\n}\n\nexport default InfoToolTip;\n","\n class Auth {\n    constructor( {baseUrl} ) {\n      this._url = baseUrl;\n    }\n\n    _checkResponse(res) {\n        if (res.ok) {\n          return res.json();\n      }\n      return Promise.reject(`Ошибка ${res.status}`);\n    } \n\n        register(password, email) {\n        return fetch(`${this._url}/signup`, {\n            method: 'POST',\n            headers: {\n              'Accept': 'application/json',\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n            password: password,\n            email: email\n            })\n        })\n      .then(this._checkResponse)\n    };\n\n\n    authorization(password, email) {\n        return fetch(`${this._url}/signin`, {\n          method: 'POST',\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            password: password,\n            email: email\n          })\n        })\n        .then(this._checkResponse)\n      };\n\n\n      \n      checkToken(jwt) {\n        return fetch(`${this._url}/users/me`, {\n          method: 'GET',\n          headers: {\n             'Accept': 'application/json',\n            \"Content-Type\": \"application/json\",\n            \"Authorization\" : `Bearer ${jwt}`\n          }\n        })\n        .then(this._checkResponse)\n      };\n\n\n\n}\n\n\nconst authConfigg = {\n  baseUrl: 'https://api.praime.nomoredomains.work',\n}\n\nconst auth = new Auth(authConfigg);\n\nexport default auth;\n","import React from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\n\n\nfunction PageWithLogin(props){\n    const { title, textButton } = props;\n\n\n    const location = useLocation();\n    const isLocationSignUp = location.pathname === \"/sign-up\";\n    const [password, setPassword] = React.useState(\"\");\n    const [email, setEmail] = React.useState(\"\");\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onSubmit(password, email);\n  }\n\n  function handleChangePassword(e) {\n    setPassword(e.target.value);\n  }\n\n  function handleChangeEmail(e) {\n    setEmail(e.target.value);\n  }\n\n\n    return(\n        <div className=\"popup__content  popup__content_auth-page\">\n            <h2 className=\"popup__title popup__title_auth-page \">{title}</h2>\n                <form className={`popup__form`} onSubmit={handleSubmit}>\n\n                    <input type=\"email\" className=\"popup__input popup__input_type_email \" name=\"email\"\n          required\n          placeholder=\"Email\"\n          value={email || \"\"}\n          onChange={handleChangeEmail}\n                    />\n                    <span className=\"email-input-error popup__input-error\"></span>\n\n                    <input type=\"password\" className=\"popup__input popup__input_type_password\" \n          name=\"password\"\n          required\n          minLength=\"2\"\n          maxLength=\"200\"\n          placeholder=\"Пароль\"\n          value={password || \"\"}\n          onChange={handleChangePassword} />\n\n                    <span className=\"password-input-error popup__input-error\"></span>\n\n                    <button className=\"popup__save-button popup__save-button_auth-page\" type=\"submit\">{textButton}</button>\n                </form>\n\n                {props.children}\n                \n                \n            {isLocationSignUp && (\n                <div className=\"popup__content_signin\">\n                    <p className=\"popup__content_text_signin\">Уже зарегистрированы? </p>\n                    <Link to={\"/sign-in\"} className=\"popup__content_login-link\">Войти</Link>\n                </div>\n              )\n            }\n            \n                </div>\n    )\n}\n\nexport default PageWithLogin;","import React from \"react\";\nimport PageWithLogin from \"./PageWithLogin\";\n\n\n\nfunction Register(props) {\n\n  React.useEffect(() => {\n    props.onPage(\"Войти\", \"/sign-in\");\n  }, []);\n\n    return ( \n        <PageWithLogin\n          title=\"Регистрация\"\n          textButton=\"Зарегистрироваться\"\n          onSubmit={props.onSubmit}\n      />\n\n    )\n}\n\nexport default Register;","import React from \"react\";\n\nimport PageWithLogin from \"./PageWithLogin\";\n\nfunction Login(props) {\n  \n    React.useEffect(() => {\n        props.onPage(\"Регистрация\", \"/sign-up\");\n      }, []);\n\n        return ( \n            <PageWithLogin\n            title=\"Вход\"\n            textButton=\"Войти\"\n            onSubmit={props.onSubmit}\n            />\n\n        )\n}\n\nexport default Login;","import React, { useState, useEffect } from \"react\";\nimport { Route, Routes, useNavigate } from \"react-router-dom\";\nimport Footer from \"./Footer.js\";\nimport Main from \"./Main.js\";\nimport Header from \"./Header.js\";\n// import PopupWithForm from \"./PopupWithForm.js\";\nimport ImagePopup from \"./ImagePopup.js\";\nimport { api } from \"../utils/Api.js\";\nimport EditProfilePopup from \"./EditProfilePopup.js\";\nimport EditAvatarPopup from \"./EditAvatarPopup.js\";\nimport AddPlacePopup from \"./AddPlacePopup.js\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext.js\";\nimport InfoToolTip from \"./InfoTooltip.js\";\nimport auth from \"../utils/MestoAuth.js\";\nimport Register from \"./Register.js\";\nimport Login from \"./Login.js\";\n\nfunction App() {\n  const [selectedCard, setSelectedCard] = useState({});\n  const [cards, setCards] = useState([]);\n  const [currentUser, setCurrentUser] = useState({});\n  const [userEmail, setUserEmail] = React.useState(\"\");\n  const navigate = useNavigate();\n  const [linkName, setLinkName] = React.useState(\"\");\n  const [linkRoute, setLinkRoute] = React.useState(\"\");\n  const [isRegistrationSuccsses, setIsRegistrationSuccsses] = React.useState(false);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isRegistationResultPopupOpen, setIsRegistationResultPopupOpen] = React.useState(false);\n  const [isLoading, setIsLoading] = React.useState(false);\n\n  const jwt = localStorage.getItem('jwt'); \n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n  };\n\n\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsRegistationResultPopupOpen(false);\n    setSelectedCard({});\n  }\n\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n    api\n      .changeLikeCardStatus(card._id, !isLiked, jwt)\n      .then((newCard) => {\n        setCards((state) =>\n          state.map((c) => (c._id === card._id ? newCard : c))\n        );\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  }\n\n  function handleDeleteClick(card) {\n    api\n      .deleteCard(card._id, jwt)\n      .then(() => {\n        setCards(cards.filter((i) => i._id !== card._id));\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  }\n\n  const handleUpdateUser = ({ name, about }) => {\n    setIsLoading(true);\n    api\n      .patchUserInfo(name, about, jwt)\n      .then((newUser) => {\n        setCurrentUser(newUser);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.error(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  };\n\n  const handleUpdateAvatar = (data) => {\n    setIsLoading(true);\n    api\n      .patchNewAvatar(data, jwt)\n      .then((newUser) => {\n        setCurrentUser(newUser);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.error(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  };\n\n\n  const handleAddPlaceSubmit = ({ name, link }) => {\n    setIsLoading(true);\n    api.postNewCard(name, link, jwt)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.error(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  };\n\n\n\n  function swapHeaderLinks(name, route) {\n    setLinkName(name);\n    setLinkRoute(route);\n  }\n\n  function handleSetUserEmail(email) {\n    setUserEmail(email);\n  }\n\n  /** Проверяет наличие токена */\n  function checkToken() {\n const jwt = localStorage.getItem(\"jwt\");\n    if (jwt) {\n      auth\n        .checkToken(jwt)\n        .then((data) => {\n          setLoggedIn(true);\n          handleSetUserEmail(data.data.email);\n          navigate(\"/\");\n        })\n        .catch((err) => {\n          console.error(err);\n        });\n    }\n  }\n\n  React.useEffect(() => {\n    checkToken();\n  }, []);\n\n  function handleSignOutClick() {\n    navigate(\"/sign-in\");\n    localStorage.removeItem(\"jwt\");\n    setLoggedIn(false);\n  }\n\n  function handleRegistration(isSuccsses) {\n    setIsRegistrationSuccsses(isSuccsses);\n    setIsRegistationResultPopupOpen(true);\n  }\n\n  /** регистрация пользователя */\n  function handleUserRegister(password, email) {\n    auth\n      .register(password, email)\n      .then((data) => {\n        navigate(\"/sign-in\");\n        handleRegistration(true);\n      })\n      .catch((err) => {\n        console.error(err);\n        handleRegistration(false);\n      });\n  }\n\n  /** авторизация пользователя */\n  function handleUserAuthorization(password, email) {\n    auth\n      .authorization(password, email)\n      .then((data) => {\n        localStorage.setItem(\"jwt\", data.token);\n        setLoggedIn(true);\n        setUserEmail(email);\n        navigate(\"/\");\n        return data.token\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  }\n\n\nReact.useEffect(() => { \nif(loggedIn) {\n   api\n     .getInitialCards(jwt)\n     .then((cardsList) => {\n       setCards(cardsList);\n     })\n     .catch((err) => {\n       console.error(err);\n     });\n   }\n }, [loggedIn, jwt]);\n\nReact.useEffect(() => {\n    if(loggedIn) {\n   api\n     .getUserInfo(jwt)\n     .then((data) => {\n       setCurrentUser(data);\n     })\n     .catch((err) => {\n       console.error(err);\n     });\n  }\n }, [loggedIn, jwt]);\n\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header\n          linkName={linkName}\n          linkRoute={linkRoute}\n          signOut={handleSignOutClick}\n          isLoggedIn={loggedIn}\n          userEmail={userEmail}\n        />\n        <Routes>\n          <Route\n            path=\"/sign-up\"\n            element={<Register onPage={swapHeaderLinks} onSubmit={handleUserRegister} />}\n          />\n          <Route\n            path=\"/sign-in\"\n            element={\n              <Login\n                onPage={swapHeaderLinks}\n                onSubmit={handleUserAuthorization}\n                setUserEmail={setUserEmail}\n              />\n            }\n          />\n          <Route\n            path=\"/\"\n            element={\n              <ProtectedRoute\n                loggedIn={loggedIn}\n                component={Main}\n                onEditProfile={handleEditProfileClick}\n                onAddPlace={handleAddPlaceClick}\n                onEditAvatar={handleEditAvatarClick}\n                onCardClick={handleCardClick} \n                cards={cards}\n                onCardLike={handleCardLike}\n                onCardDelete={handleDeleteClick}\n                onPage={swapHeaderLinks}\n                isLoading={isLoading}\n              />\n            }\n          />\n        </Routes>\n        <Footer />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onUpdateUser={handleUpdateUser}\n          onClose={closeAllPopups}\n          isLoading={isLoading}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onAddPlace={handleAddPlaceSubmit}\n          onClose={closeAllPopups}\n          isLoading={isLoading}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          isLoading={isLoading}\n        />\n   \n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n\n        <InfoToolTip\n          isOpen={isRegistationResultPopupOpen}\n          name=\"info-tool-tip\"\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleRegistration}\n          isRegistrationSuccsses={isRegistrationSuccsses}\n        />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nimport { BrowserRouter } from 'react-router-dom';\n\nimport reportWebVitals from './reportWebVitals';   \n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\nreportWebVitals();\n\n\n"],"sourceRoot":""}